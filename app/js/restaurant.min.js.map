{"version":3,"sources":["restaurant.js"],"names":["__webpack_modules__","__unused_webpack_module","__webpack_exports__","__webpack_require__","eval","__webpack_module_cache__","moduleId","cachedModule","undefined","exports","module","d","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","r","Symbol","toStringTag","value"],"mappings":"AAQS,MACC,aACA,IAAIA,oBAAsB,CAE9B;;;oCAIA,CAAEC,wBAAyBC,oBAAqBC,uBAEtDC,KAAK,4xEAIC;;;oCAIA,CAAEH,wBAAyBC,oBAAqBC,uBAEtDC,KAAK,8+HAIC;;;oCAIA,CAAEH,wBAAyBC,oBAAqBC,uBAEtDC,KAAK,q0IAIC;;;kCAIA,CAAEH,wBAAyBC,oBAAqBC,uBAEtDC,KAAK,0sBAOSC,yBAA2B,GAG/B,SAASF,oBAAoBG,GAE5B,IAAIC,EAAeF,yBAAyBC,GAC5C,QAAqBE,IAAjBD,EACH,OAAOA,EAAaE,QAGrB,IAAIC,EAASL,yBAAyBC,GAAY,CAGjDG,QAAS,IAOV,OAHAT,oBAAoBM,GAAUI,EAAQA,EAAOD,QAASN,qBAG/CO,EAAOD,QAOdN,oBAAoBQ,EAAI,CAACF,EAASG,KACjC,IAAI,IAAIC,KAAOD,EACXT,oBAAoBW,EAAEF,EAAYC,KAASV,oBAAoBW,EAAEL,EAASI,IAC5EE,OAAOC,eAAeP,EAASI,EAAK,CAAEI,YAAY,EAAMC,IAAKN,EAAWC,MAQ3EV,oBAAoBW,EAAI,CAACK,EAAKC,IAAUL,OAAOM,UAAUC,eAAeC,KAAKJ,EAAKC,GAMlFjB,oBAAoBqB,EAAKf,IACH,oBAAXgB,QAA0BA,OAAOC,aAC1CX,OAAOC,eAAeP,EAASgB,OAAOC,YAAa,CAAEC,MAAO,WAE7DZ,OAAOC,eAAeP,EAAS,aAAc,CAAEkB,OAAO,KASxD,IAAIzB,oBAAsBC,oBAAoB,2BAxG/C","file":"restaurant.min.js","sourcesContent":["/*\n * ATTENTION: The \"eval\" devtool has been used (maybe by default in mode: \"development\").\n * This devtool is neither made for production nor for readable output files.\n * It uses \"eval()\" calls to create a separate source file in the browser devtools.\n * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)\n * or disable the default devtool with \"devtool: false\".\n * If you are looking for production-ready output files, see mode: \"production\" (https://webpack.js.org/configuration/mode/).\n */\n/******/ (() => { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./src/js/modules/auth.js\":\n/*!********************************!*\\\n  !*** ./src/js/modules/auth.js ***!\n  \\********************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"auth\\\": () => (/* binding */ auth)\\n/* harmony export */ });\\nvar auth = function auth() {\\n  var buttonAuth = document.querySelector('.button-auth');\\n  var buttonOut = document.querySelector('.button-out');\\n  var userName = document.querySelector('.user-name');\\n  var modalAuth = document.querySelector('.modal-auth');\\n  var closeAuth = document.querySelector('.close-auth');\\n  var logInForm = document.getElementById('logInForm');\\n  var inputLogin = document.getElementById('login');\\n  var inputPassword = document.getElementById('password');\\n  var buttonCart = document.querySelector('.button-cart');\\n\\n  var openModal = function openModal() {};\\n\\n  var logIn = function logIn(user) {\\n    console.log(user);\\n    buttonAuth.style.display = \\\"none\\\";\\n    buttonOut.style.display = 'flex';\\n    buttonCart.style.display = 'flex';\\n    userName.style.display = 'block';\\n    userName.textContent = user.login;\\n    modalAuth.style = 'display:none';\\n  };\\n\\n  var logOut = function logOut() {\\n    buttonAuth.style.display = \\\"flex\\\";\\n    buttonOut.style.display = 'none';\\n    userName.style.display = 'none';\\n    buttonCart.style.display = 'none';\\n    userName.textContent = '';\\n    localStorage.removeItem('user');\\n    window.location.href = '/';\\n  };\\n\\n  buttonAuth.addEventListener('click', function () {\\n    modalAuth.style = 'display:flex';\\n  });\\n  closeAuth.addEventListener('click', function () {\\n    modalAuth.style = 'display:none';\\n  });\\n  logInForm.addEventListener('submit', function (e) {\\n    e.preventDefault();\\n    var user = {\\n      login: inputLogin.value,\\n      pass: inputPassword.value\\n    }; //logIn(user)\\n\\n    if (inputLogin.value != \\\"\\\") {\\n      localStorage.setItem('user', JSON.stringify(user));\\n      logIn(JSON.parse(localStorage.getItem('user')));\\n    } else {\\n      alert('Логин или пароль неверен');\\n    }\\n  });\\n\\n  if (localStorage.getItem('user')) {\\n    console.log(JSON.parse(localStorage.getItem('user')));\\n    logIn(JSON.parse(localStorage.getItem('user')));\\n  }\\n\\n  buttonOut.addEventListener('click', function () {\\n    logOut();\\n  });\\n};\\n\\n//# sourceURL=webpack://gulpstart2021/./src/js/modules/auth.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/modules/cart.js\":\n/*!********************************!*\\\n  !*** ./src/js/modules/cart.js ***!\n  \\********************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"cart\\\": () => (/* binding */ cart)\\n/* harmony export */ });\\nvar cart = function cart() {\\n  var buttonCart = document.getElementById('cart-button');\\n  var modalCart = document.querySelector('.modal-cart');\\n  var close = document.querySelector('.close');\\n  var cartBody = document.querySelector('.modal-cart').querySelector('.modal-body');\\n  var sendCart = modalCart.querySelector('.button-primary');\\n  var clearCart = modalCart.querySelector('.clear-cart');\\n  var totalPrice = document.querySelector('.modal-pricetag');\\n\\n  var incrementCount = function incrementCount(id) {\\n    var cartArray = JSON.parse(localStorage.getItem('cart'));\\n    cartArray.map(function (item) {\\n      if (item.id === id) {\\n        item.count++;\\n      }\\n    });\\n    localStorage.setItem('cart', JSON.stringify(cartArray));\\n    renderCart(JSON.parse(localStorage.getItem('cart')));\\n    console.log(id);\\n  };\\n\\n  var decrementCount = function decrementCount(id) {\\n    var cartArray = JSON.parse(localStorage.getItem('cart'));\\n    cartArray.map(function (item) {\\n      if (item.id === id) {\\n        item.count = item.count > 0 ? item.count - 1 : 0;\\n      }\\n    });\\n    var newArr = cartArray.filter(function (item) {\\n      return item.count > 0;\\n    });\\n    localStorage.setItem('cart', JSON.stringify(newArr));\\n    renderCart(newArr);\\n    console.log(id);\\n  };\\n\\n  var resetCart = function resetCart() {\\n    cartBody.innerHTML = '';\\n    localStorage.removeItem('cart');\\n    modalCart.classList.remove('is-open');\\n  };\\n\\n  var totalSum = function totalSum(data) {\\n    var total = data.reduce(function (sum, item) {\\n      return sum + item.price * item.count;\\n    }, 0);\\n    totalPrice.innerHTML = total + ' ₽';\\n  };\\n\\n  var renderCart = function renderCart(data) {\\n    console.log(cartBody);\\n    cartBody.innerHTML = '';\\n    data.forEach(function (cartItem) {\\n      //console.dir(cartItem)\\n      var cartRow = document.createElement('div');\\n      cartRow.classList.add('food-row');\\n      cartRow.innerHTML = \\\"\\\\n\\\\t\\\\t\\\\t<span class=\\\\\\\"food-name\\\\\\\">\\\".concat(cartItem.name, \\\"</span>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<strong class=\\\\\\\"food-price\\\\\\\">\\\").concat(cartItem.price * cartItem.count, \\\" \\\\u20BD</strong>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\\\"food-counter\\\\\\\">\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<button data-index=\\\").concat(cartItem.id, \\\" class=\\\\\\\"counter-button btn-dec\\\\\\\">-</button>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\\\"counter\\\\\\\">\\\").concat(cartItem.count, \\\"</span>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<button data-index=\\\").concat(cartItem.id, \\\" class=\\\\\\\"counter-button btn-inc\\\\\\\">+</button>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\");\\n      cartBody.append(cartRow);\\n      /* cartRow.querySelector('.btn-dec').addEventListener('click',()=>{\\n      \\tdecrementCount(cartItem.id)\\n      })\\n      cartRow.querySelector('.btn-inc').addEventListener('click',()=>{\\n      \\tincrementCount(cartItem.id)\\n      }) */\\n    });\\n    totalSum(data);\\n  };\\n\\n  cartBody.addEventListener('click', function (e) {\\n    e.preventDefault();\\n    console.log('click');\\n    console.log(e.target);\\n\\n    if (e.target.classList.contains('btn-dec')) {\\n      decrementCount(e.target.dataset.index);\\n    } else if (e.target.classList.contains('btn-inc')) {\\n      incrementCount(e.target.dataset.index);\\n    }\\n  });\\n  buttonCart.addEventListener('click', function () {\\n    renderCart(JSON.parse(localStorage.getItem('cart')));\\n    modalCart.classList.add('is-open');\\n  });\\n  close.addEventListener('click', function () {\\n    modalCart.classList.remove('is-open');\\n  });\\n  sendCart.addEventListener('click', function () {\\n    var cartArray = localStorage.getItem('cart');\\n    fetch('https://jsonplaceholder.typicode.com/posts', {\\n      method: 'POST',\\n      body: cartArray\\n    });\\n    resetCart();\\n  });\\n  clearCart.addEventListener('click', function () {\\n    resetCart();\\n  });\\n};\\n\\n//# sourceURL=webpack://gulpstart2021/./src/js/modules/cart.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/modules/menu.js\":\n/*!********************************!*\\\n  !*** ./src/js/modules/menu.js ***!\n  \\********************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\\n/* harmony export */   \\\"menu\\\": () => (/* binding */ menu)\\n/* harmony export */ });\\nvar menu = function menu() {\\n  var rest = \\\"\\\";\\n\\n  if (localStorage.getItem('restaurant')) {\\n    rest = JSON.parse(localStorage.getItem('restaurant'));\\n    console.log(rest);\\n    console.log(\\\"https://pizzaplus-4c873-default-rtdb.firebaseio.com/db/\\\".concat(rest));\\n  } else {\\n    window.location.href = '/';\\n  }\\n\\n  var cardMenu = document.querySelector('.cards-menu');\\n  console.dir(cardMenu);\\n\\n  var changeTitle = function changeTitle(restaurant) {\\n    var title = document.querySelector('.restaurant-title');\\n    title.innerText = restaurant;\\n  };\\n\\n  var changeRating = function changeRating(stars) {\\n    var rating = document.querySelector('.rating');\\n    rating.innerHTML = stars;\\n  };\\n\\n  var changePrice = function changePrice(receipt) {\\n    var price = document.querySelector('.price');\\n    price.innerHTML = \\\"\\\\u041E\\\\u0442 \\\".concat(receipt, \\\" \\\\u20BD\\\");\\n  };\\n\\n  var changeCategory = function changeCategory(kitchen) {\\n    var category = document.querySelector('.category');\\n    category.innerHTML = kitchen;\\n  };\\n\\n  var addToCart = function addToCart(_ref) {\\n    var id = _ref.id,\\n        name = _ref.name,\\n        price = _ref.price,\\n        count = _ref.count;\\n    var cartArr = localStorage.getItem('cart') ? JSON.parse(localStorage.getItem('cart')) : [];\\n\\n    if (cartArr.some(function (item) {\\n      return item.id === id;\\n    })) {\\n      cartArr.map(function (item) {\\n        if (item.id === id) {\\n          item.count++;\\n        }\\n      });\\n    } else {\\n      cartArr.push({\\n        id: id,\\n        name: name,\\n        price: price,\\n        count: count\\n      });\\n    }\\n\\n    localStorage.setItem('cart', JSON.stringify(cartArr));\\n    console.log({\\n      id: id,\\n      name: name,\\n      price: price,\\n      count: count\\n    });\\n    console.dir(cartArr);\\n  };\\n\\n  var renderItems = function renderItems(data) {\\n    data.forEach(function (_ref2) {\\n      var id = _ref2.id,\\n          name = _ref2.name,\\n          description = _ref2.description,\\n          price = _ref2.price,\\n          image = _ref2.image;\\n      var card = document.createElement('div');\\n      card.classList.add('card');\\n      card.innerHTML = \\\"\\\\n\\\\t\\\\t\\\\t<div class=\\\\\\\"card\\\\\\\">\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<img src=\\\".concat(image, \\\" alt=\\\").concat(name, \\\" class=\\\\\\\"card-image\\\\\\\" />\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\\\"card-text\\\\\\\">\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\\\"card-heading\\\\\\\">\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<h3 class=\\\\\\\"card-title card-title-reg\\\\\\\">\\\").concat(name, \\\"</h3>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<!-- /.card-heading -->\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\\\"card-info\\\\\\\">\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\\\"ingredients\\\\\\\">\\\").concat(description, \\\"\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<!-- /.card-info -->\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<div class=\\\\\\\"card-buttons\\\\\\\">\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<button class=\\\\\\\"button button-primary button-add-cart\\\\\\\">\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\\\"button-card-text\\\\\\\">\\\\u0412 \\\\u043A\\\\u043E\\\\u0440\\\\u0437\\\\u0438\\\\u043D\\\\u0443</span>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<span class=\\\\\\\"button-cart-svg\\\\\\\"></span>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</button>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<strong class=\\\\\\\"card-price-bold\\\\\\\">\\\").concat(price, \\\" \\\\u20BD</strong>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t\\\\t<!-- /.card-text -->\\\\n\\\\t\\\\t\\\\t\\\\t\\\\t</div>\\\");\\n      card.querySelector('.button-add-cart').addEventListener('click', function () {\\n        addToCart({\\n          id: id,\\n          name: name,\\n          price: price,\\n          count: 1\\n        });\\n      });\\n      cardMenu.append(card);\\n      console.log(card);\\n    });\\n  };\\n\\n  fetch(\\\"https://pizzaplus-4c873-default-rtdb.firebaseio.com/db/\\\".concat(rest.products)).then(function (res) {\\n    return res.json();\\n  }).then(function (data) {\\n    changeTitle(rest.name);\\n    changeRating(rest.stars);\\n    changePrice(rest.price);\\n    changeCategory(rest.kitchen);\\n    renderItems(data);\\n  })[\\\"catch\\\"](function (err) {\\n    console.log(err);\\n  });\\n};\\n\\n//# sourceURL=webpack://gulpstart2021/./src/js/modules/menu.js?\");\n\n/***/ }),\n\n/***/ \"./src/js/restaurant.js\":\n/*!******************************!*\\\n  !*** ./src/js/restaurant.js ***!\n  \\******************************/\n/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {\n\neval(\"__webpack_require__.r(__webpack_exports__);\\n/* harmony import */ var _modules_menu__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./modules/menu */ \\\"./src/js/modules/menu.js\\\");\\n/* harmony import */ var _modules_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./modules/auth */ \\\"./src/js/modules/auth.js\\\");\\n/* harmony import */ var _modules_cart__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./modules/cart */ \\\"./src/js/modules/cart.js\\\");\\n\\n\\n\\n(0,_modules_auth__WEBPACK_IMPORTED_MODULE_1__.auth)();\\n(0,_modules_cart__WEBPACK_IMPORTED_MODULE_2__.cart)();\\n(0,_modules_menu__WEBPACK_IMPORTED_MODULE_0__.menu)();\\n\\n//# sourceURL=webpack://gulpstart2021/./src/js/restaurant.js?\");\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tvar cachedModule = __webpack_module_cache__[moduleId];\n/******/ \t\tif (cachedModule !== undefined) {\n/******/ \t\t\treturn cachedModule.exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t(() => {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = (exports, definition) => {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t(() => {\n/******/ \t\t__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))\n/******/ \t})();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t(() => {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = (exports) => {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t})();\n/******/ \t\n/************************************************************************/\n/******/ \t\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \t// This entry module can't be inlined because the eval devtool is used.\n/******/ \tvar __webpack_exports__ = __webpack_require__(\"./src/js/restaurant.js\");\n/******/ \t\n/******/ })()\n;"]}